define("ace/occur",["require","exports","module","ace/lib/oop","ace/range","ace/search","ace/edit_session","ace/search_highlight","ace/lib/dom"],function(e,n,t){"use strict";function o(){}var a=e("./lib/oop"),i=(e("./range").Range,e("./search").Search),s=e("./edit_session").EditSession,r=e("./search_highlight").SearchHighlight;a.inherits(o,i),function(){this.enter=function(e,n){if(!n.needle)return!1;var t=e.getCursorPosition(),n=(this.displayOccurContent(e,n),this.originalToOccurPosition(e.session,t));return e.moveCursorToPosition(n),!0},this.exit=function(e,n){n=n.translatePosition&&e.getCursorPosition(),n=n&&this.occurToOriginalPosition(e.session,n);return this.displayOriginalContent(e),n&&e.moveCursorToPosition(n),!0},this.highlight=function(e,n){(e.$occurHighlight=e.$occurHighlight||e.addDynamicMarker(new r(null,"ace_occur-highlight","text"))).setRegexp(n),e._emit("changeBackMarker")},this.displayOccurContent=function(e,n){this.$originalSession=e.session;var t=this.matchingLines(e.session,n),o=t.map(function(e){return e.content}),o=new s(o.join("\n"));o.$occur=this,o.$occurMatchingLines=t,e.setSession(o),this.$useEmacsStyleLineStart=this.$originalSession.$useEmacsStyleLineStart,o.$useEmacsStyleLineStart=this.$useEmacsStyleLineStart,this.highlight(o,n.re),o._emit("changeBackMarker")},this.displayOriginalContent=function(e){e.setSession(this.$originalSession),this.$originalSession.$useEmacsStyleLineStart=this.$useEmacsStyleLineStart},this.originalToOccurPosition=function(e,n){var t=e.$occurMatchingLines,e={row:0,column:0};if(!t)return e;for(var o=0;o<t.length;o++)if(t[o].row===n.row)return{row:o,column:n.column};return e},this.occurToOriginalPosition=function(e,n){e=e.$occurMatchingLines;return e&&e[n.row]?{row:e[n.row].row,column:n.column}:n},this.matchingLines=function(o,e){if(e=a.mixin({},e),!o||!e.needle)return[];var n=new i;return n.set(e),n.findAll(o).reduce(function(e,n){var n=n.start.row,t=e[e.length-1];return t&&t.row===n?e:e.concat({row:n,content:o.getLine(n)})},[])}}.call(o.prototype),e("./lib/dom").importCssString(".ace_occur-highlight {\n    border-radius: 4px;\n    background-color: rgba(87, 255, 8, 0.25);\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n    box-shadow: 0 0 4px rgb(91, 255, 50);\n}\n.ace_dark .ace_occur-highlight {\n    background-color: rgb(80, 140, 85);\n    box-shadow: 0 0 4px rgb(60, 120, 70);\n}\n","incremental-occur-highlighting",!1),n.Occur=o}),define("ace/commands/occur_commands",["require","exports","module","ace/config","ace/occur","ace/keyboard/hash_handler","ace/lib/oop"],function(e,n,t){function o(){}e("../config");var a=e("../occur").Occur,i={name:"occur",exec:function(e,n){var t=!!e.session.$occur;(new a).enter(e,n)&&!t&&o.installIn(e)},readOnly:!0},s=[{name:"occurexit",bindKey:"esc|Ctrl-G",exec:function(e){var n=e.session.$occur;n&&(n.exit(e,{}),e.session.$occur||o.uninstallFrom(e))},readOnly:!0},{name:"occuraccept",bindKey:"enter",exec:function(e){var n=e.session.$occur;n&&(n.exit(e,{translatePosition:!0}),e.session.$occur||o.uninstallFrom(e))},readOnly:!0}],r=e("../keyboard/hash_handler").HashHandler;e("../lib/oop").inherits(o,r),function(){this.isOccurHandler=!0,this.attach=function(e){r.call(this,s,e.commands.platform),this.$editor=e};var a=this.handleKeyboard;this.handleKeyboard=function(e,n,t,o){e=a.call(this,e,n,t,o);return e&&e.command?e:void 0}}.call(o.prototype),o.installIn=function(e){var n=new this;e.keyBinding.addKeyboardHandler(n),e.commands.addCommands(s)},o.uninstallFrom=function(e){e.commands.removeCommands(s);var n=e.getKeyboardHandler();n.isOccurHandler&&e.keyBinding.removeKeyboardHandler(n)},n.occurStartCommand=i}),define("ace/commands/incremental_search_commands",["require","exports","module","ace/config","ace/lib/oop","ace/keyboard/hash_handler","ace/commands/occur_commands"],function(e,n,t){function o(e){this.$iSearch=e}var a=e("../config"),i=e("../lib/oop"),s=e("../keyboard/hash_handler").HashHandler,r=e("./occur_commands").occurStartCommand;n.iSearchStartCommands=[{name:"iSearch",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(n,t){a.loadModule(["core","ace/incremental_search"],function(e){e=e.iSearch=e.iSearch||new e.IncrementalSearch;e.activate(n,t.backwards),t.jumpToFirstMatch&&e.next(t)})},readOnly:!0},{name:"iSearchBackwards",exec:function(e,n){e.execCommand("iSearch",{backwards:!0})},readOnly:!0},{name:"iSearchAndGo",bindKey:{win:"Ctrl-K",mac:"Command-G"},exec:function(e,n){e.execCommand("iSearch",{jumpToFirstMatch:!0,useCurrentOrPrevSearch:!0})},readOnly:!0},{name:"iSearchBackwardsAndGo",bindKey:{win:"Ctrl-Shift-K",mac:"Command-Shift-G"},exec:function(e){e.execCommand("iSearch",{jumpToFirstMatch:!0,backwards:!0,useCurrentOrPrevSearch:!0})},readOnly:!0}],n.iSearchCommands=[{name:"restartSearch",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(e){e.cancelSearch(!0)}},{name:"searchForward",bindKey:{win:"Ctrl-S|Ctrl-K",mac:"Ctrl-S|Command-G"},exec:function(e,n){n.useCurrentOrPrevSearch=!0,e.next(n)}},{name:"searchBackward",bindKey:{win:"Ctrl-R|Ctrl-Shift-K",mac:"Ctrl-R|Command-Shift-G"},exec:function(e,n){n.useCurrentOrPrevSearch=!0,n.backwards=!0,e.next(n)}},{name:"extendSearchTerm",exec:function(e,n){e.addString(n)}},{name:"extendSearchTermSpace",bindKey:"space",exec:function(e){e.addString(" ")}},{name:"shrinkSearchTerm",bindKey:"backspace",exec:function(e){e.removeChar()}},{name:"confirmSearch",bindKey:"return",exec:function(e){e.deactivate()}},{name:"cancelSearch",bindKey:"esc|Ctrl-G",exec:function(e){e.deactivate(!0)}},{name:"occurisearch",bindKey:"Ctrl-O",exec:function(e){var n=i.mixin({},e.$options);e.deactivate(),r.exec(e.$editor,n)}},{name:"yankNextWord",bindKey:"Ctrl-w",exec:function(e){var n=e.$editor,t=n.selection.getRangeOfMovements(function(e){e.moveCursorWordRight()}),n=n.session.getTextRange(t);e.addString(n)}},{name:"yankNextChar",bindKey:"Ctrl-Alt-y",exec:function(e){var n=e.$editor,t=n.selection.getRangeOfMovements(function(e){e.moveCursorRight()}),n=n.session.getTextRange(t);e.addString(n)}},{name:"recenterTopBottom",bindKey:"Ctrl-l",exec:function(e){e.$editor.execCommand("recenterTopBottom")}},{name:"selectAllMatches",bindKey:"Ctrl-space",exec:function(e){var n=e.$editor,t=n.session.$isearchHighlight,t=t&&t.cache?t.cache.reduce(function(e,n){return e.concat(n||[])},[]):[];e.deactivate(!1),t.forEach(n.selection.addRange.bind(n.selection))}},{name:"searchAsRegExp",bindKey:"Alt-r",exec:function(e){e.convertNeedleToRegExp()}}].map(function(e){return e.readOnly=!0,e.isIncrementalSearchCommand=!0,e.scrollIntoView="animate-cursor",e}),i.inherits(o,s),function(){this.attach=function(t){var o=this.$iSearch;s.call(this,n.iSearchCommands,t.commands.platform),this.$commandExecHandler=t.commands.on("exec",function(e){if(!e.command.isIncrementalSearchCommand)return o.deactivate();e.stopPropagation(),e.preventDefault();var n=t.session.getScrollTop(),e=e.command.exec(o,e.args||{});return t.renderer.scrollCursorIntoView(null,.5),t.renderer.animateScrolling(n),e})},this.detach=function(e){this.$commandExecHandler&&(e.commands.off("exec",this.$commandExecHandler),delete this.$commandExecHandler)};var a=this.handleKeyboard;this.handleKeyboard=function(e,n,t,o){if((1===n||8===n)&&"v"===t||1===n&&"y"===t)return null;e=a.call(this,e,n,t,o);if(e&&e.command)return e;if(-1==n){o=this.commands.extendSearchTerm;if(o)return{command:o,args:t}}return!1}}.call(o.prototype),n.IncrementalSearchKeyboardHandler=o}),define("ace/incremental_search",["require","exports","module","ace/lib/oop","ace/range","ace/search","ace/search_highlight","ace/commands/incremental_search_commands","ace/lib/dom","ace/commands/command_manager","ace/editor","ace/config"],function(e,n,t){"use strict";function o(){this.$options={wrap:!1,skipCurrent:!1},this.$keyboardHandler=new u(this)}function a(e){return e instanceof RegExp}function i(e){var e=String(e),n=e.indexOf("/"),t=e.lastIndexOf("/");return{expression:e.slice(n+1,t),flags:e.slice(t+1)}}function s(n,e){try{return new RegExp(n,e)}catch(e){return n}}function r(e){return s(e.expression,e.flags)}var c=e("./lib/oop"),l=e("./range").Range,d=e("./search").Search,h=e("./search_highlight").SearchHighlight,m=e("./commands/incremental_search_commands"),u=m.IncrementalSearchKeyboardHandler;c.inherits(o,d),function(){this.activate=function(e,n){this.$editor=e,this.$startPos=this.$currentPos=e.getCursorPosition(),this.$options.needle="",this.$options.backwards=n,e.keyBinding.addKeyboardHandler(this.$keyboardHandler),this.$originalEditorOnPaste=e.onPaste,e.onPaste=this.onPaste.bind(this),this.$mousedownHandler=e.on("mousedown",this.onMouseDown.bind(this)),this.selectionFix(e),this.statusMessage(!0)},this.deactivate=function(e){this.cancelSearch(e);e=this.$editor;e.keyBinding.removeKeyboardHandler(this.$keyboardHandler),this.$mousedownHandler&&(e.off("mousedown",this.$mousedownHandler),delete this.$mousedownHandler),e.onPaste=this.$originalEditorOnPaste,this.message("")},this.selectionFix=function(e){e.selection.isEmpty()&&!e.session.$emacsMark&&e.clearSelection()},this.highlight=function(e){var n=this.$editor.session;(n.$isearchHighlight=n.$isearchHighlight||n.addDynamicMarker(new h(null,"ace_isearch-result","text"))).setRegexp(e),n._emit("changeBackMarker")},this.cancelSearch=function(e){var n=this.$editor;return this.$prevNeedle=this.$options.needle,this.$options.needle="",e?(n.moveCursorToPosition(this.$startPos),this.$currentPos=this.$startPos):n.pushEmacsMark&&n.pushEmacsMark(this.$startPos,!1),this.highlight(null),l.fromPoints(this.$currentPos,this.$currentPos)},this.highlightAndFindWithNeedle=function(e,n){if(!this.$editor)return null;var t=this.$options;if(n&&(t.needle=n.call(this,t.needle||"")||""),0===t.needle.length)return this.statusMessage(!0),this.cancelSearch(!0);t.start=this.$currentPos;var n=this.$editor.session,n=this.find(n),o=this.$editor.emacsMark?!!this.$editor.emacsMark():!this.$editor.selection.isEmpty();return n&&(t.backwards&&(n=l.fromPoints(n.end,n.start)),this.$editor.selection.setRange(l.fromPoints(o?this.$startPos:n.end,n.end)),e&&(this.$currentPos=n.end),this.highlight(t.re)),this.statusMessage(n),n},this.addString=function(n){return this.highlightAndFindWithNeedle(!1,function(e){if(!a(e))return e+n;e=i(e);return e.expression+=n,r(e)})},this.removeChar=function(e){return this.highlightAndFindWithNeedle(!1,function(e){if(!a(e))return e.substring(0,e.length-1);e=i(e);return e.expression=e.expression.substring(0,e.expression.length-1),r(e)})},this.next=function(n){return n=n||{},this.$options.backwards=!!n.backwards,this.$currentPos=this.$editor.getCursorPosition(),this.highlightAndFindWithNeedle(!0,function(e){return n.useCurrentOrPrevSearch&&0===e.length?this.$prevNeedle||"":e})},this.onMouseDown=function(e){return this.deactivate(),!0},this.onPaste=function(e){this.addString(e)},this.convertNeedleToRegExp=function(){return this.highlightAndFindWithNeedle(!1,function(e){return a(e)?e:s(e,"ig")})},this.convertNeedleToString=function(){return this.highlightAndFindWithNeedle(!1,function(e){return a(e)?i(e).expression:e})},this.statusMessage=function(e){var n=this.$options,t="",t=(t+=n.backwards?"reverse-":"")+("isearch: "+n.needle);this.message(t+=e?"":" (not found)")},this.message=function(e){this.$editor.showCommandLine&&(this.$editor.showCommandLine(e),this.$editor.focus())}}.call(o.prototype),n.IncrementalSearch=o;e("./lib/dom").importCssString("\n.ace_marker-layer .ace_isearch-result {\n  position: absolute;\n  z-index: 6;\n  box-sizing: border-box;\n}\ndiv.ace_isearch-result {\n  border-radius: 4px;\n  background-color: rgba(255, 200, 0, 0.5);\n  box-shadow: 0 0 4px rgb(255, 200, 0);\n}\n.ace_dark div.ace_isearch-result {\n  background-color: rgb(100, 110, 160);\n  box-shadow: 0 0 4px rgb(80, 90, 140);\n}","incremental-search-highlighting",!1);c=e("./commands/command_manager"),function(){this.setupIncrementalSearch=function(e,n){var t;this.usesIncrementalSearch!=n&&(this.usesIncrementalSearch=n,t=m.iSearchStartCommands,this[n?"addCommands":"removeCommands"](t))}}.call(c.CommandManager.prototype),d=e("./editor").Editor;e("./config").defineOptions(d.prototype,"editor",{useIncrementalSearch:{set:function(n){this.keyBinding.$handlers.forEach(function(e){e.setupIncrementalSearch&&e.setupIncrementalSearch(this,n)}),this._emit("incrementalSearchSettingChanged",{isEnabled:n})}}})}),define("ace/keyboard/emacs",["require","exports","module","ace/lib/dom","ace/incremental_search","ace/commands/incremental_search_commands","ace/keyboard/hash_handler","ace/lib/keys"],function(e,a,n){"use strict";var t,o,i=e("../lib/dom"),s=(e("../incremental_search"),e("../commands/incremental_search_commands")),r=e("./hash_handler").HashHandler,c=(a.handler=new r,a.handler.isEmacs=!0,a.handler.$id="ace/keyboard/emacs",i.importCssString("\n.emacs-mode .ace_cursor{\n    border: 1px rgba(50,250,50,0.8) solid!important;\n    box-sizing: border-box!important;\n    background-color: rgba(0,250,0,0.9);\n    opacity: 0.5;\n}\n.emacs-mode .ace_hidden-cursors .ace_cursor{\n    opacity: 1;\n    background-color: transparent;\n}\n.emacs-mode .ace_overwrite-cursors .ace_cursor {\n    opacity: 1;\n    background-color: transparent;\n    border-width: 0 0 2px 2px !important;\n}\n.emacs-mode .ace_text-layer {\n    z-index: 4\n}\n.emacs-mode .ace_cursor-layer {\n    z-index: 2\n}","emacsMode"),a.handler.attach=function(e){t=e.session.$selectLongWords,e.session.$selectLongWords=!0,o=e.session.$useEmacsStyleLineStart,e.session.$useEmacsStyleLineStart=!0,e.session.$emacsMark=null,e.session.$emacsMarkRing=e.session.$emacsMarkRing||[],e.emacsMark=function(){return this.session.$emacsMark},e.setEmacsMark=function(e){this.session.$emacsMark=e},e.pushEmacsMark=function(e,n){var t=this.session.$emacsMark;t&&this.session.$emacsMarkRing.push(t),!e||n?this.setEmacsMark(e):this.session.$emacsMarkRing.push(e)},e.popEmacsMark=function(){var e=this.emacsMark();return e?(this.setEmacsMark(null),e):this.session.$emacsMarkRing.pop()},e.getLastEmacsMark=function(e){return this.session.$emacsMark||this.session.$emacsMarkRing.slice(-1)[0]},e.emacsMarkForSelection=function(e){var n=this.selection,t=this.multiSelect?this.multiSelect.getAllRanges().length:1,o=n.index||0,a=this.session.$emacsMarkRing,t=a.length-(t-o),o=a[t]||n.anchor;return e&&a.splice(t,1,"row"in e&&"column"in e?e:void 0),o},e.on("click",l),e.on("changeSession",c),e.renderer.$blockCursor=!0,e.setStyle("emacs-mode"),e.commands.addCommands(m),a.handler.platform=e.commands.platform,e.$emacsModeHandler=this,e.on("copy",this.onCopy),e.on("paste",this.onPaste)},a.handler.detach=function(e){e.renderer.$blockCursor=!1,e.session.$selectLongWords=t,e.session.$useEmacsStyleLineStart=o,e.off("click",l),e.off("changeSession",c),e.unsetStyle("emacs-mode"),e.commands.removeCommands(m),e.off("copy",this.onCopy),e.off("paste",this.onPaste),e.$emacsModeHandler=null},function(e){e.oldSession&&(e.oldSession.$selectLongWords=t,e.oldSession.$useEmacsStyleLineStart=o),t=e.session.$selectLongWords,e.session.$selectLongWords=!0,o=e.session.$useEmacsStyleLineStart,e.session.$useEmacsStyleLineStart=!0,e.session.hasOwnProperty("$emacsMark")||(e.session.$emacsMark=null),e.session.hasOwnProperty("$emacsMarkRing")||(e.session.$emacsMarkRing=[])}),l=function(e){e.editor.session.$emacsMark=null},d=e("../lib/keys").KEY_MODS,h={C:"ctrl",S:"shift",M:"alt",CMD:"command"},m=(["C-S-M-CMD","S-M-CMD","C-M-CMD","C-S-CMD","C-S-M","M-CMD","S-CMD","S-M","C-CMD","C-M","C-S","CMD","M","S","C"].forEach(function(e){var n=0;e.split("-").forEach(function(e){n|=d[h[e]]}),h[n]=e.toLowerCase()+"-"}),a.handler.onCopy=function(e,n){n.$handlesEmacsOnCopy||(n.$handlesEmacsOnCopy=!0,a.handler.commands.killRingSave.exec(n),n.$handlesEmacsOnCopy=!1)},a.handler.onPaste=function(e,n){n.pushEmacsMark(n.getCursorPosition())},a.handler.bindKey=function(e,n){var t;(e="object"==typeof e?e[this.platform]:e)&&(t=this.commandKeyBinding,e.split("|").forEach(function(e){e=e.toLowerCase(),t[e]=n,e.split(" ").slice(0,-1).reduce(function(e,n,t){t=e[t-1]?e[t-1]+" ":"";return e.concat([t+n])},[]).forEach(function(e){t[e]||(t[e]="null")})},this))},a.handler.getStatusText=function(e,n){var t="";return n.count&&(t+=n.count),n.keyChain&&(t+=" "+n.keyChain),t},a.handler.handleKeyboard=function(e,n,t,o){if(-1!==o){o=e.editor;if(o._signal("changeStatus"),-1==n)if(o.pushEmacsMark(),e.count)return a=new Array(e.count+1).join(t),e.count=null,{command:"insertstring",args:a};var a=h[n];if("c-"==a||e.count)if("number"==typeof(r=parseInt(t[t.length-1]))&&!isNaN(r))return e.count=Math.max(e.count,0)||0,e.count=10*e.count+r,{command:"null"};a&&(t=a+t),e.keyChain&&(t=e.keyChain+=" "+t);var i,s=this.commandKeyBinding[t];if(e.keyChain="null"==s?t:"",s){if("null"===s)return{command:"null"};if("universalArgument"===s)return e.count=-4,{command:"null"};if("string"!=typeof s&&(i=s.args,"goorselect"===(s=s.command?s.command:s)&&(s=o.emacsMark()?i[1]:i[0],i=null)),"string"!=typeof s||("insertstring"!==s&&"splitline"!==s&&"togglecomment"!==s||o.pushEmacsMark(),s=this.commands[s]||o.commands.commands[s])){if(s.readOnly||s.isYank||(e.lastCommand=null),!s.readOnly&&o.emacsMark()&&o.setEmacsMark(null),e.count){var r=e.count;if(e.count=0,!s||!s.handlesCount)return{args:i,command:{exec:function(e,n){for(var t=0;t<r;t++)s.exec(e,n)},multiSelectAction:s.multiSelectAction}};"object"==typeof(i=i||{})&&(i.count=r)}return{command:s,args:i}}}}},a.emacsKeys={"Up|C-p":{command:"goorselect",args:["golineup","selectup"]},"Down|C-n":{command:"goorselect",args:["golinedown","selectdown"]},"Left|C-b":{command:"goorselect",args:["gotoleft","selectleft"]},"Right|C-f":{command:"goorselect",args:["gotoright","selectright"]},"C-Left|M-b":{command:"goorselect",args:["gotowordleft","selectwordleft"]},"C-Right|M-f":{command:"goorselect",args:["gotowordright","selectwordright"]},"Home|C-a":{command:"goorselect",args:["gotolinestart","selecttolinestart"]},"End|C-e":{command:"goorselect",args:["gotolineend","selecttolineend"]},"C-Home|S-M-,":{command:"goorselect",args:["gotostart","selecttostart"]},"C-End|S-M-.":{command:"goorselect",args:["gotoend","selecttoend"]},"S-Up|S-C-p":"selectup","S-Down|S-C-n":"selectdown","S-Left|S-C-b":"selectleft","S-Right|S-C-f":"selectright","S-C-Left|S-M-b":"selectwordleft","S-C-Right|S-M-f":"selectwordright","S-Home|S-C-a":"selecttolinestart","S-End|S-C-e":"selecttolineend","S-C-Home":"selecttostart","S-C-End":"selecttoend","C-l":"recenterTopBottom","M-s":"centerselection","M-g":"gotoline","C-x C-p":"selectall","C-Down":{command:"goorselect",args:["gotopagedown","selectpagedown"]},"C-Up":{command:"goorselect",args:["gotopageup","selectpageup"]},"PageDown|C-v":{command:"goorselect",args:["gotopagedown","selectpagedown"]},"PageUp|M-v":{command:"goorselect",args:["gotopageup","selectpageup"]},"S-C-Down":"selectpagedown","S-C-Up":"selectpageup","C-s":"iSearch","C-r":"iSearchBackwards","M-C-s":"findnext","M-C-r":"findprevious","S-M-5":"replace",Backspace:"backspace","Delete|C-d":"del","Return|C-m":{command:"insertstring",args:"\n"},"C-o":"splitline","M-d|C-Delete":{command:"killWord",args:"right"},"C-Backspace|M-Backspace|M-Delete":{command:"killWord",args:"left"},"C-k":"killLine","C-y|S-Delete":"yank","M-y":"yankRotate","C-g":"keyboardQuit","C-w|C-S-W":"killRegion","M-w":"killRingSave","C-Space":"setMark","C-x C-x":"exchangePointAndMark","C-t":"transposeletters","M-u":"touppercase","M-l":"tolowercase","M-/":"autocomplete","C-u":"universalArgument","M-;":"togglecomment","C-/|C-x u|S-C--|C-z":"undo","S-C-/|S-C-x u|C--|S-C-z":"redo","C-x r":"selectRectangularRegion","M-x":{command:"focusCommandLine",args:"M-x "}},a.handler.bindKeys(a.emacsKeys),a.handler.addCommands({recenterTopBottom:function(e){var n=e.renderer,t=n.$cursorLayer.getPixelPosition(),o=n.$size.scrollerHeight-n.lineHeight,n=n.scrollTop,n=Math.abs(t.top-n)<2?t.top-o:Math.abs(t.top-n-.5*o)<2?t.top:t.top-.5*o;e.session.setScrollTop(n)},selectRectangularRegion:function(e){e.multiSelect.toggleBlockSelection()},setMark:{exec:function(n,e){function t(){var e=n.popEmacsMark();e&&n.moveCursorToPosition(e)}return e&&e.count?(n.inMultiSelectMode?n.forEachSelection(t):t(),void t()):(e=n.emacsMark(),o=(a=n.selection.getAllRanges()).map(function(e){return{row:e.start.row,column:e.start.column}}),a=a.every(function(e){return e.isEmpty()}),e||!a?(n.inMultiSelectMode?n.forEachSelection({exec:n.clearSelection.bind(n)}):n.clearSelection(),void(e&&n.pushEmacsMark(null))):void(e||(o.forEach(function(e){n.pushEmacsMark(e)}),n.setEmacsMark(o[o.length-1]))));var o,a},readOnly:!0,handlesCount:!0},exchangePointAndMark:{exec:function(e,n){var t=e.selection;n.count||t.isEmpty()?n.count?(n={row:t.lead.row,column:t.lead.column},t.clearSelection(),t.moveCursorToPosition(e.emacsMarkForSelection(n))):t.selectToPosition(e.emacsMarkForSelection()):t.setSelectionRange(t.getRange(),!t.isBackwards())},readOnly:!0,handlesCount:!0,multiSelectAction:"forEach"},killWord:{exec:function(e,n){e.clearSelection(),"left"==n?e.selection.selectWordLeft():e.selection.selectWordRight();var n=e.getSelectionRange(),t=e.session.getTextRange(n);a.killRing.add(t),e.session.remove(n),e.clearSelection()},multiSelectAction:"forEach"},killLine:function(e){e.pushEmacsMark(null),e.clearSelection();var n=e.getSelectionRange(),t=e.session.getLine(n.start.row),o=(n.end.column=t.length,t=t.substr(n.start.column),e.session.getFoldLine(n.start.row)),o=(o&&n.end.row!=o.end.row&&(n.end.row=o.end.row,t="x"),/^\s*$/.test(t)&&(n.end.row++,t=e.session.getLine(n.end.row),n.end.column=/^\s*$/.test(t)?t.length:0),e.session.getTextRange(n));e.prevOp.command==this?a.killRing.append(o):a.killRing.add(o),e.session.remove(n),e.clearSelection()},yank:function(e){e.onPaste(a.killRing.get()||""),e.keyBinding.$data.lastCommand="yank"},yankRotate:function(e){"yank"==e.keyBinding.$data.lastCommand&&(e.undo(),e.session.$emacsMarkRing.pop(),e.onPaste(a.killRing.rotate()),e.keyBinding.$data.lastCommand="yank")},killRegion:{exec:function(e){a.killRing.add(e.getCopyText()),e.commands.byName.cut.exec(e),e.setEmacsMark(null)},readOnly:!0,multiSelectAction:"forEach"},killRingSave:{exec:function(t){t.$handlesEmacsOnCopy=!0;var n=t.session.$emacsMarkRing.slice(),o=[];a.killRing.add(t.getCopyText()),setTimeout(function(){function e(){var e=t.selection,n=e.getRange(),n=e.isBackwards()?n.end:n.start;o.push({row:n.row,column:n.column}),e.clearSelection()}t.$handlesEmacsOnCopy=!1,t.inMultiSelectMode?t.forEachSelection({exec:e}):e(),t.setEmacsMark(null),t.session.$emacsMarkRing=n.concat(o.reverse())},0)},readOnly:!0},keyboardQuit:function(e){e.selection.clearSelection(),e.setEmacsMark(null),e.keyBinding.$data.count=null},focusCommandLine:function(e,n){e.showCommandLine&&e.showCommandLine(n)}}),a.handler.addCommands(s.iSearchStartCommands),a.handler.commands);m.yank.isYank=!0,m.yankRotate.isYank=!0,a.killRing={$data:[],add:function(e){e&&this.$data.push(e),30<this.$data.length&&this.$data.shift()},append:function(e){var n=this.$data.length-1,t=this.$data[n]||"";e&&(t+=e),t&&(this.$data[n]=t)},get:function(e){return this.$data.slice(this.$data.length-(e=e||1),this.$data.length).reverse().join("\n")},pop:function(){return 1<this.$data.length&&this.$data.pop(),this.get()},rotate:function(){return this.$data.unshift(this.$data.pop()),this.get()}}}),window.require(["ace/keyboard/emacs"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});