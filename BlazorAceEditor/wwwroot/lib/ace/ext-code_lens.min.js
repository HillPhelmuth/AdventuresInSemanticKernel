define("ace/ext/code_lens",["require","exports","module","ace/line_widgets","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/editor","ace/config"],function(e,l,n){"use strict";function o(e,n){if(e&n.CHANGE_LINES||e&n.CHANGE_FULL||e&n.CHANGE_SCROLL||e&n.CHANGE_TEXT){var o=n.session,t=n.session.lineWidgets,e=n.$textLayer,i=e.$lenses;if(t){for(var r,s=n.$textLayer.$lines.cells,a=n.layerConfig,d=n.$padding,i=i||(e.$lenses=[]),l=0,c=0;c<s.length;c++){var u=s[c].row,g=t[u],f=g&&g.lenses;if(f&&f.length){var p=i[l];(p=p||(i[l]=v.buildDom(["div",{class:"ace_codeLens"}],n.container))).style.height=a.lineHeight+"px",l++;for(var L=0;L<f.length;L++){var h=p.childNodes[2*L];h||(0!=L&&p.appendChild(v.createTextNode(" | ")),h=v.buildDom(["a"],p)),h.textContent=f[L].title,h.lensCommand=f[L]}for(;p.childNodes.length>2*L-1;)p.lastChild.remove();g=n.$cursorLayer.getPixelPosition({row:u,column:0},!0).top-a.lineHeight*g.rowsAbove-a.offset,g=(p.style.top=g+"px",n.gutterWidth),u=o.getLine(u).search(/\S|$/);g+=(u=-1==u?0:u)*a.characterWidth,p.style.paddingLeft=d+g+"px"}}for(;l<i.length;)i.pop().remove()}else i&&((r=(e=(e=n).$textLayer).$lenses)&&r.forEach(function(e){e.remove()}),e.$lenses=null)}}function t(d){d.codeLensProviders=[],d.renderer.on("afterRender",o),d.$codeLensClickHandler||(d.$codeLensClickHandler=function(e){var n=e.target.lensCommand;n&&(d.execCommand(n.id,n.arguments),d._emit("codeLensClick",e))},r.addListener(d.container,"click",d.$codeLensClickHandler,d)),d.$updateLenses=function(){var r,s,a=d.session;a&&(a.widgetManager||(a.widgetManager=new i(a),a.widgetManager.attach(d)),r=d.codeLensProviders.length,s=[],d.codeLensProviders.forEach(function(e){e.provideCodeLenses(a,function(e,n){var o,t,i;e||(n.forEach(function(e){s.push(e)}),0==--r&&(e=a.selection.cursor,n=a.documentToScreenRow(e),o=a.getScrollTop(),t=l.setLenses(a,s),(i=a.$undoManager&&a.$undoManager.$lastDelta)&&"remove"==i.action&&1<i.lines.length||(i=a.documentToScreenRow(e),e=d.renderer.layerConfig.lineHeight,i=a.getScrollTop()+(i-n)*e,a.setScrollTop(i=0==t&&o<e/4&&-e/4<o?-e:i))))})}))};var e=s.delayedCall(d.$updateLenses);d.$updateLensesOnInput=function(){e.delay(250)},d.on("input",d.$updateLensesOnInput)}var i=e("../line_widgets").LineWidgets,r=e("../lib/event"),s=e("../lib/lang"),v=e("../lib/dom"),a=(l.setLenses=function(i,e){var n,o,r=Number.MAX_VALUE;return(n=i).lineWidgets&&(o=n.widgetManager,n.lineWidgets.forEach(function(e){e&&e.lenses&&o.removeLineWidget(e)})),e&&e.forEach(function(e){var n=e.start.row,o=e.start.column,t=i.lineWidgets&&i.lineWidgets[n];(t=t&&t.lenses?t:i.widgetManager.$registerLineWidget({rowCount:1,rowsAbove:1,row:n,column:o,lenses:[]})).lenses.push(e.command),n<r&&(r=n)}),i._emit("changeFold",{data:{start:{row:r}}}),r},l.registerCodeLensProvider=function(e,n){e.setOption("enableCodeLens",!0),e.codeLensProviders.push(n),e.$updateLensesOnInput()},l.clear=function(e){l.setLenses(e,null)},e("../editor").Editor);e("../config").defineOptions(a.prototype,"editor",{enableCodeLens:{set:function(e){e?t(this):((e=this).off("input",e.$updateLensesOnInput),e.renderer.off("afterRender",o),e.$codeLensClickHandler&&e.container.removeEventListener("click",e.$codeLensClickHandler))}}}),v.importCssString("\n.ace_codeLens {\n    position: absolute;\n    color: #aaa;\n    font-size: 88%;\n    background: inherit;\n    width: 100%;\n    display: flex;\n    align-items: flex-end;\n    pointer-events: none;\n}\n.ace_codeLens > a {\n    cursor: pointer;\n    pointer-events: auto;\n}\n.ace_codeLens > a:hover {\n    color: #0000ff;\n    text-decoration: underline;\n}\n.ace_dark > .ace_codeLens > a:hover {\n    color: #4e94ce;\n}\n","codelense.css",!1)}),window.require(["ace/ext/code_lens"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});