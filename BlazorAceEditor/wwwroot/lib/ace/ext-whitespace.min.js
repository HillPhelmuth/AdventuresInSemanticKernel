define("ace/ext/whitespace",["require","exports","module","ace/lib/lang"],function(e,n,t){"use strict";var p=e("../lib/lang");n.$detectIndentation=function(e,t){for(var r=[],n=[],o=0,i=0,s=Math.min(e.length,1e3),c=0;c<s;c++){var a=e[c];if(/^\s*[^*+\-\s]/.test(a))for(var g,l,i="\t"==a[0]?(o++,-Number.MAX_VALUE):((g=a.match(/^ */)[0].length)&&"\t"!=a[g]&&(!(0<(l=g-i))||i%l||g%l||(n[l]=(n[l]||0)+1),r[g]=(r[g]||0)+1),g);c<s&&"\\"==a[a.length-1];)a=e[c++]}for(var h,u=n.reduce(function(e,t){return e+t},0),d={score:0,length:0},f=0,c=1;c<12;c++){var p=function(e){for(var t=0,n=e;n<r.length;n+=e)t+=r[n]||0;return t}(c);1==c?(f=p,p=r[1]?.9:.8,r.length||(p=0)):p/=f,n[c]&&(p+=n[c]/u),p>d.score&&(d={score:p,length:c})}return d.score&&1.4<d.score&&(h=d.length),f+1<o?{ch:"\t",length:h=1==h||f<o/4||d.score<1.8?void 0:h}:o+1<f?{ch:" ",length:h}:void 0},n.detectIndentation=function(e){var t=e.getLines(0,1e3),t=n.$detectIndentation(t)||{};return t.ch&&e.setUseSoftTabs(" "==t.ch),t.length&&e.setTabSize(t.length),t},n.trimTrailingSpace=function(e,t){for(var n=e.getDocument(),r=n.getAllLines(),o=t&&t.trimEmpty?-1:0,i=[],s=-1,c=(t&&t.keepCursorPosition&&(e.selection.rangeCount?e.selection.rangeList.ranges.forEach(function(e,t,n){n=n[t+1];n&&n.cursor.row==e.cursor.row||i.push(e.cursor)}):i.push(e.selection.getCursor()),s=0),i[s]&&i[s].row),a=0,g=r.length;a<g;a++){var l=r[a],h=l.search(/\s+$/);a==c&&(h<i[s].column&&o<h&&(h=i[s].column),c=i[++s]?i[s].row:-1),o<h&&n.removeInLine(a,h,l.length)}},n.convertIndentation=function(e,t,n){for(var r=e.getTabString()[0],o=e.getTabSize(),i=(n=n||o,"\t"==(t=t||r)?t:p.stringRepeat(t,n)),s=e.doc,c=s.getAllLines(),a={},g={},l=0,h=c.length;l<h;l++){var u,d,f=c[l].match(/^\s*/)[0];f&&(u=(d=e.$getStringScreenWidth(f)[0])%o,d=a[d=Math.floor(d/o)]||(a[d]=p.stringRepeat(i,d)),(d+=g[u]||(g[u]=p.stringRepeat(" ",u)))!=f&&(s.removeInLine(l,0,f.length),s.insertInLine({row:l,column:0},d)))}e.setTabSize(n),e.setUseSoftTabs(" "==t)},n.$parseStringArg=function(e){var t={},e=(/t/.test(e)?t.ch="\t":/s/.test(e)&&(t.ch=" "),e.match(/\d+/));return e&&(t.length=parseInt(e[0],10)),t},n.$parseArg=function(e){return e?"string"==typeof e?n.$parseStringArg(e):"string"==typeof e.text?n.$parseStringArg(e.text):e:{}},n.commands=[{name:"detectIndentation",description:"Detect indentation from content",exec:function(e){n.detectIndentation(e.session)}},{name:"trimTrailingSpace",description:"Trim trailing whitespace",exec:function(e,t){n.trimTrailingSpace(e.session,t)}},{name:"convertIndentation",description:"Convert indentation to ...",exec:function(e,t){t=n.$parseArg(t);n.convertIndentation(e.session,t.ch,t.length)}},{name:"setIndentation",description:"Set indentation",exec:function(e,t){t=n.$parseArg(t);t.length&&e.session.setTabSize(t.length),t.ch&&e.session.setUseSoftTabs(" "==t.ch)}}]}),window.require(["ace/ext/whitespace"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});